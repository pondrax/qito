import{d as Z,a as E,t as O}from"../chunks/db.DaXTXu79.js";import"../chunks/disclose-version.15-3dQtY.js";import{u as tt,q as at,p as et,a as rt,A as p,r as it,y as st,s as ot,b as q}from"../chunks/runtime.bbI-llpg.js";import{e as nt}from"../chunks/each.EYzjG2Rp.js";import{e as vt,t as i,f as M,g as k,c as A,b as t,s as f,p as D,E as dt,B as ut,o as F,a,d as L}from"../chunks/render.xdaRgOar.js";import{g as lt}from"../chunks/entry.aGS8bwI8.js";import{t as pt}from"../chunks/lang.ucBuaWId.js";async function ft(){return{authProviders:(await Z.collection("users").listAuthMethods()).authProviders}}const Pt=Object.freeze(Object.defineProperty({__proto__:null,load:ft},Symbol.toStringTag,{value:"Module"}));var mt=L('<form method="post"><input type="hidden" name="provider"> <button btn="~ outline" w-full="" flex="" h-auto="" justify-start="" gap-5=""><img alt="provider" h-8="" p-1=""> </button></form>'),ct=L('<div h-screen="" p-2=""><div bg-base-a="" rounded-box="" flex="" justify-center="" items-center="" h-full=""><div max-w-100="" w-full="" p-5="" bg-base="" rounded-box="" shadow=""><div avatar="" w-24="" h-24="" top--10="" rounded-3xl="" bg-base-a="" ring="2 stone offset-2"><img src="/favicon.png" alt="favicon"></div> <div> </div> <form method="post"><div form-control=""><span> </span> <input input="" name="email" autocomplete="off" required></div> <div form-control=""><span> </span> <input input="" type="password" name="password" required></div> <button btn="~ secondary" mt-3="" w-full=""> </button></form> <div text-center="" my-5="" border-y-2="" h-1=""></div> <div></div> <div mt-10="" text-center=""><a href="/" btn="~ outline"><i i-bx-home-alt=""></i> </a></div></div></div></div>');function St(m,c){rt(c,!1);const _={};tt(_);const e=()=>ot(pt,"$t",_);let T=at(c.data.authProviders);async function b({target:s}){if(s instanceof HTMLFormElement){const r=new FormData(s);let o;r.get("provider")?o=await E.provider(String(r.get("provider"))):o=await E.login(String(r.get("email")),String(r.get("password"))),o?(q(O,[{action:e()("sign.success")}]),lt("/app")):q(O,[{error:e()("sign.failed")}])}}var g=F(m,!0,ct),z=a(g),B=a(z),H=a(B),h=t(t(H)),R=a(h),n=t(t(h)),x=a(n),w=a(x),C=a(w),y=t(t(w));vt(y,!0);var P=t(t(x)),S=a(P),G=a(S),I=t(t(S)),J=t(t(P)),K=a(J),N=t(t(n)),$=t(t(N)),Q=t(t($)),U=a(Q),V=a(U),W=t(V);i(R,()=>e()("sign.title")),i(C,()=>e()("userOrEmail.label")),M(y,"placeholder",()=>e()("userOrEmail.placeholder")),i(G,()=>e()("password.label")),M(I,"placeholder",()=>e()("password.placeholder")),i(K,()=>e()("sign.btn.in")),i(W,()=>` ${f(e()("back.home"))}`),k("submit",n,D(b),!1),nt($,()=>st(T),9,(s,r,o)=>{var v=F(s,!0,mt),d=a(v);dt(d);var X=t(t(d)),j=a(X),Y=t(j);i(Y,()=>` ${f(e()("sign.with"))} ${f(p(r).name)}`);var u,l;it(()=>{u!==(u=p(r).name)&&(d.value=u),l!==(l=`/oauth/${p(r).name}.svg`)&&ut(j,"src",l)}),k("submit",v,D(b),!1),A(s,v)},null),A(m,g),et()}export{St as component,Pt as universal};
