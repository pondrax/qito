import{d as Z,a as O,t as E}from"../chunks/db.D4TSvIhG.js";import"../chunks/disclose-version.15-3dQtY.js";import{u as tt,x as at,p as et,a as rt,A as p,r as it,g as st,s as ot,e as F}from"../chunks/runtime.N9sK9yCX.js";import{e as nt}from"../chunks/each.-e9gUnfe.js";import{f as vt,t as i,g as M,i as k,c as q,b as t,s as f,j as A,F as dt,e as ut,o as D,a,d as L}from"../chunks/render.FNm7pgUH.js";import{g as lt}from"../chunks/entry.DKlS1g2p.js";import{t as pt}from"../chunks/lang.7t8SORkE.js";async function ft(){return{authProviders:(await Z.collection("users").listAuthMethods()).authProviders}}const jt=Object.freeze(Object.defineProperty({__proto__:null,load:ft},Symbol.toStringTag,{value:"Module"}));var mt=L('<form method="post"><input type="hidden" name="provider"> <button btn="~ outline" w-full="" flex="" h-auto="" justify-start="" gap-5=""><img alt="provider" h-8="" p-1=""> </button></form>'),ct=L('<div h-screen="" p-2=""><div bg-base-a="" rounded-box="" flex="" justify-center="" items-center="" h-full=""><div max-w-100="" w-full="" p-5="" bg-base="" rounded-box="" shadow=""><div avatar="" w-24="" h-24="" top--10="" rounded-3xl="" bg-base-a="" ring="2 stone offset-2"><img src="/favicon.png" alt="favicon"></div> <div> </div> <form method="post"><div form-control=""><span> </span> <input input="" name="email" autocomplete="off" required></div> <div form-control=""><span> </span> <input input="" type="password" name="password" required></div> <button btn="~ secondary" mt-3="" w-full=""> </button></form> <div text-center="" my-5="" border-y-2="" h-1=""></div> <div></div> <div mt-10="" text-center=""><a href="/" btn="~ outline"><i i-bx-home-alt=""></i> </a></div></div></div></div>');function Pt(m,c){rt(c,!1);const _={};tt(_);const e=()=>ot(pt,"$t",_);let T=at(c.data.authProviders);async function b({target:s}){if(s instanceof HTMLFormElement){const r=new FormData(s);let o;r.get("provider")?o=await O.provider(String(r.get("provider"))):o=await O.login(String(r.get("email")),String(r.get("password"))),o?(F(E,[{action:e()("sign.success")}]),lt("/app")):F(E,[{error:e()("sign.failed")}])}}var g=D(m,!0,ct),z=a(g),H=a(z),N=a(H),h=t(t(N)),R=a(h),n=t(t(h)),x=a(n),w=a(x),B=a(w),y=t(t(w));vt(y,!0);var j=t(t(x)),P=a(j),C=a(P),G=t(t(P)),I=t(t(j)),J=a(I),K=t(t(n)),S=t(t(K)),Q=t(t(S)),U=a(Q),V=a(U),W=t(V);i(R,()=>e()("sign.title")),i(B,()=>e()("userOrEmail.label")),M(y,"placeholder",()=>e()("userOrEmail.placeholder")),i(C,()=>e()("password.label")),M(G,"placeholder",()=>e()("password.placeholder")),i(J,()=>e()("sign.btn.in")),i(W,()=>` ${f(e()("back.home"))}`),k("submit",n,A(b),!1),nt(S,()=>st(T),9,(s,r,o)=>{var v=D(s,!0,mt),d=a(v);dt(d);var X=t(t(d)),$=a(X),Y=t($);i(Y,()=>` ${f(e()("sign.with"))} ${f(p(r).displayName)}`);var u,l;it(()=>{u!==(u=p(r).name)&&(d.value=u),l!==(l=`/oauth/${p(r).name}.svg`)&&ut($,"src",l)}),k("submit",v,A(b),!1),q(s,v)},null),q(m,g),et()}export{Pt as component,jt as universal};
