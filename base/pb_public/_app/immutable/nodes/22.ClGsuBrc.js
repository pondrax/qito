import{d as tt,b as q,t as E}from"../chunks/db.FEB5Gfq4.js";import{i as et,p as at,t as i,q as M,v as k,c as D,b as t,s as f,w as F,N as rt,r as it,e as st,o as L,f as n,a as e,d as T}from"../chunks/disclose-version.DshyVd_Z.js";import{m as ot,p as nt,a as ut,x as m,g as vt}from"../chunks/runtime.Cuj63gjm.js";import{e as dt}from"../chunks/each.Oi8QW3YR.js";import{u as lt,s as pt,a as N}from"../chunks/store.DRzovyat.js";import{g as ft}from"../chunks/entry.1ANe4tQr.js";import{t as mt}from"../chunks/lang.DpQJuId4.js";async function ct(){return{authProviders:(await tt.collection("users").listAuthMethods()).authProviders}}const $t=Object.freeze(Object.defineProperty({__proto__:null,load:ct},Symbol.toStringTag,{value:"Module"}));var _t=T('<form method="post"><input type="hidden" name="provider"> <button btn="~ outline" w-full="" flex="" h-auto="" justify-start="" gap-5=""><img alt="provider" h-8="" p-1=""> </button></form>'),bt=T('<div h-screen="" p-2=""><div bg-base-a="" rounded-box="" flex="" justify-center="" items-center="" h-full=""><div max-w-100="" w-full="" p-5="" bg-base="" rounded-box="" shadow=""><div avatar="" w-24="" h-24="" top--10="" rounded-3xl="" bg-base-a="" ring="2 stone offset-2"><img src="/favicon.png" alt="favicon"></div> <div> </div> <form method="post"><div form-control=""><span> </span> <input input="" name="email" autocomplete="off" required></div> <div form-control=""><span> </span> <input input="" type="password" name="password" required></div> <button btn="~ secondary" mt-3="" w-full=""> </button></form> <div text-center="" my-5="" border-y-2="" h-1=""></div> <div></div> <div mt-10="" text-center=""><a href="/" btn="~ outline"><i i-bx-home-alt=""></i> </a></div></div></div></div>');function jt(c,_){ut(_,!1);const b={};lt(b);const a=()=>pt(mt,"$t",b);let z=ot(_.data.authProviders);async function g({target:s}){if(s instanceof HTMLFormElement){const r=new FormData(s);let o;r.get("provider")?o=await q.provider(String(r.get("provider"))):o=await q.login(String(r.get("email")),String(r.get("password"))),o?(N(E,[{action:a()("sign.success")}]),ft("/app")):N(E,[{error:a()("sign.failed")}])}}et();var h=L(c,!0,bt),A=e(h),H=e(A),R=e(H),x=t(t(R,!0)),B=n(e(x)),u=t(t(x,!0)),w=e(u),y=e(w),C=n(e(y)),P=t(t(y,!0));at(P,!0);var S=t(t(w,!0)),$=e(S),G=n(e($)),I=t(t($,!0)),J=t(t(S,!0)),K=n(e(J)),Q=t(t(u,!0)),j=t(t(Q,!0)),U=t(t(j,!0)),V=e(U),W=e(V),X=t(W,!0);i(B,()=>a()("sign.title")),i(C,()=>a()("userOrEmail.label")),M(P,"placeholder",()=>a()("userOrEmail.placeholder")),i(G,()=>a()("password.label")),M(I,"placeholder",()=>a()("password.placeholder")),i(K,()=>a()("sign.btn.in")),i(X,()=>` ${f(a()("back.home"))}`),k("submit",u,F(g),!1),dt(j,()=>vt(z),9,(s,r,o)=>{var v=L(s,!0,_t),d=e(v);rt(d);var Y=t(t(d,!0)),O=e(Y),Z=t(O,!0);i(Z,()=>` ${f(a()("sign.with"))}
              ${f(m(r).displayName)}`);var l,p;it(()=>{l!==(l=m(r).name)&&(d.value=l),p!==(p=`/oauth/${m(r).name}.svg`)&&st(O,"src",p)}),k("submit",v,F(g),!1),D(s,v)},null),D(c,h),nt()}export{jt as component,$t as universal};
