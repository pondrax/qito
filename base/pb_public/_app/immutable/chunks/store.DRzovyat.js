import{s as c}from"./index.DDL-4FLT.js";import{g as f,U as o,b as a,n as l,m as _,u as b,k as i}from"./runtime.Cuj63gjm.js";import{u as m}from"./disclose-version.DshyVd_Z.js";function y(n,s,t){let e=t[s];const u=e===void 0;u&&(e={store:null,last_value:null,value:_(o),unsubscribe:l},t[s]=e),(u||e.store!==n)&&(e.unsubscribe(),e.store=n??null,e.unsubscribe=d(n,e.value));const r=f(e.value);return r===o?e.last_value:r}function d(n,s){return n==null?(a(s,void 0),l):c(n,e=>{i(!0),a(s,e),i(!1)})}function k(n,s){return n.set(s),s}function N(n){v(()=>{let s;for(s in n)n[s].unsubscribe()})}function v(n){m(()=>()=>b(n))}export{k as a,y as s,N as u};
